<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Tebak & Terbang: Edisi Ngakak</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <canvas id="confetti-canvas" class="confetti-canvas"></canvas>

    <div class="container pop-in" id="app-container">
        
        <div id="lives-container" class="hidden">
            <span class="heart-icon">â¤ï¸</span> <span id="lives-text">15</span>
        </div>

        <div id="screen-welcome">
            <div style="display: flex; justify-content: center; gap: 20px; margin-bottom: 5px;">
                <div class="hero-icon" style="animation-delay: 0s;">ğŸ¤ª</div>
                <div class="hero-icon" style="animation-delay: 1.5s;">ğŸš€</div>
            </div>
            
            <h1 class="hero-title">Welcome to Game<br>Tebak & Terbang!</h1>
            
            <p style="font-size: 1.1rem; color: var(--dark); font-weight: 700; margin-bottom: 20px;">
                Main Tebak-Tebakan Yuk! Biar stres ilang, ketawa pun datang.
            </p>
            
            <div class="info-box">
                <div style="font-size: 2.5rem; margin-bottom: 5px;" class="heart-icon">â¤ï¸</div>
                <h3 style="margin: 5px 0; color: #ff7675; text-transform: uppercase; font-size: 1.2rem;">Nyawa kamu : 15</h3>
                <p style="margin:0; font-size: 0.9rem; color: #636e72;">
                    Awas! Kalau salah jawab atau nabrak tiang, nyawa melayang.
                </p>
            </div>
            
            <button class="btn btn-start-hero" onclick="initAudioAndStart()">GASKEUN! ğŸ”¥</button>
            <p style="font-size: 0.8rem; margin-top: 20px; opacity: 0.6; font-style: italic;">*made by adit*</p>
        </div>

        <div id="screen-riddle" class="hidden">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
                <span id="level-indicator" style="background:var(--primary); color:white; padding:5px 15px; border-radius:20px; font-size:0.8rem; font-weight:bold; box-shadow: 0 4px 0 #4834d4;">LEVEL 1</span>
            </div>
            
            <h2 style="margin-top:5px; color:var(--dark); font-size:1.4rem;">Tebak Dong!</h2>
            <p id="riddle-text" style="font-size: 1.15rem; font-weight: 600; color:#2d3436; background: #fff; padding: 15px; border-radius: 15px; border: 2px solid #eee;">...</p>
            
            <div id="input-area">
                <input type="text" id="answer-input" placeholder="Jawaban lo apaan?" autocomplete="off">
                <br>
                <button id="btn-clue" class="btn btn-clue hidden" onclick="showClue()">ğŸ’¡ Nyerah? Minta Petunjuk</button>
                <div id="clue-text" class="hidden"></div>
                <br>
                <button class="btn btn-primary" onclick="checkAnswerInput()">YAKIN? ğŸ”’</button>
            </div>

            <div id="choices-area" class="choices-grid hidden"></div>

            <div id="message"></div>
            
            <button id="btn-continue" class="btn btn-continue hidden" onclick="proceedToGame()">LANJUT TERBANG â–¶</button>
        </div>

        <div id="screen-game" class="hidden">
            <h2 style="color:var(--primary); font-weight:800; font-size: 1.5rem;">ğŸ¦ Mode Terbang</h2>
            <div style="display:flex; justify-content:space-around; background:#f8f9fa; padding:10px; border-radius:15px; margin-bottom:10px; border: 2px solid #eee; font-size: 0.9rem;">
                <span>Level: <strong id="game-level-text">1</strong></span>
                <span>Target: <strong id="target-text">3</strong></span>
                <span>Speed: <strong id="speed-text" style="color:var(--primary);">Normal</strong></span>
            </div>
            
            <h3 style="font-size: 1.6rem; margin: 5px 0; color:#2d3436;">
                Skor: <span id="score" style="color:var(--primary);">0</span> / <span id="target-score-display" style="color:#b2bec3;">3</span>
            </h3>
            
            <div id="game-area">
                <canvas id="game-canvas"></canvas>
                <div id="game-overlay">
                    <div style="text-align: center;">
                        <button class="btn btn-start-hero" style="font-size: 1rem; padding: 10px 30px;" onclick="startGameLoop()">â–¶ TERBANGKAN!</button>
                        <p style="color: white; margin-top: 15px; font-weight: bold; text-shadow: 0 2px 4px rgba(0,0,0,0.5);">Klik / Spasi untuk lompat</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="screen-win" class="hidden">
            <h1 style="color:var(--success); margin-bottom: 5px; font-size: 3rem;">GOKIL! ğŸ‰</h1>
            
            <div style="background: white; padding: 20px; border-radius: 20px; margin: 20px 0; border: 2px dashed var(--accent); animation: float 3s ease-in-out infinite;">
                <div style="font-size: 5rem; margin-bottom: 10px;">ğŸ‘‘</div>
                <h3 style="color: var(--accent); margin:0;">SERTIFIKAT KELULUSAN</h3>
                <p style="margin: 10px 0; font-size: 1rem; font-weight: 600;">IQ dan kesabaran Anda telah teruji!</p>
                <h2 style="color: var(--primary); font-size: 1.3rem;">"Gelar: RAJA TEBAK-TEBAKAN"</h2>
            </div>

            <button class="btn btn-secondary" onclick="location.reload()">MAIN LAGI (Gabut ya?)</button>
        </div>

        <div id="screen-gameover" class="hidden">
            <div style="font-size: 6rem; animation: shake 1s;">âš°ï¸</div>
            <h1 style="color:var(--danger); font-size: 2.5rem;">MENINGGOY ğŸ’€</h1>
            <p style="font-size: 1.2rem; font-weight: bold;">Skill issue bang? Atau jempolnya kepeleset?</p>
            <div style="background: #fff0f0; padding: 10px; border-radius: 10px; display: inline-block; margin-bottom: 15px;">
                <small style="color: #d63031;">Tenang, dikasih kesempatan kedua.</small>
            </div>
            <br>
            <button class="btn btn-danger" onclick="retryLevel()">ULANG LEVEL INI ğŸ”„</button>
            <br>
            <button class="btn" style="background: transparent; border: 1px solid #ff7675; color: #ff7675; margin-top: 10px; font-size: 0.8rem; padding: 8px 15px;" onclick="location.reload()">Reset Awal (Nyerah)</button>
        </div>

    </div>

    <script src="script.js"></script>
</body>
</html>